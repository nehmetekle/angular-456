<header class="site-header">
  <div class="container header-row">
    <mat-progress-bar
      *ngIf="isLoading$ | async"
      mode="indeterminate"
      color="primary"
      style="height: 3px"
    ></mat-progress-bar>
    <a class="brand" routerLink="/app">Home</a>
    <nav>
      <ng-container *ngIf="isAuthenticated$ | async; else showLogin">
        <button mat-button (click)="logout()">Logout</button>
      </ng-container>
      <ng-template #showLogin>
        <a routerLink="/app/login" mat-button>Login</a>
      </ng-template>
      <a routerLink="/app/shop/products" mat-button>Products</a>
      <a routerLink="/app/shop/rating" mat-button>Rating</a>
      <a routerLink="/app/shop/wishlist" mat-button class="wish-link" aria-label="Wishlist">
        <span class="wish-icon" aria-hidden>‚ù§</span>
        <span class="wish-label">Wishlist</span>
        <span class="wish-badge" *ngIf="wishlistCount$ | async as wc">{{ wc }}</span>
      </a>
      <a routerLink="/app/shop/cart" mat-button class="cart-link">
        Cart
        <span class="cart-badge" [class.pulse]="cartPulse" *ngIf="cartCount$ | async as c">{{
          c
        }}</span>
      </a>
    </nav>
  </div>
</header>
<main class="container main-content">
  <router-outlet></router-outlet>
</main>

<!-- toast host -->
<app-toast-host></app-toast-host>
